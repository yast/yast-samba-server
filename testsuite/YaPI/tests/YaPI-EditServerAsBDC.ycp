{

// test for YaPI::Samba::EditServerAsBDC()
// $Id$
// testedfiles: SambaRole.pm SambaConfig.pm

    import "SambaConfig";

    include "testsuite.ycp";
    include "tests-common.yh";

    map r = depth_union(r_common, $["etc" : $[ "nsswitch_conf" : $[
                "passwd" : "",
                "group" : ""]]]);

    import "YaPI::Samba";
    
    SambaConfig::Import( $["global" : $[
                        "workgroup" : "Test",
                        "domain master" : "no",
                        "security" : "user",
                        "preferred master" : "yes",
                        "domain logons" : "no",
                        "local master" : "no"]]);

    TEST( ``(YaPI::Samba::EditServerAsBDC( "tester" )), [r,w_common,x_common], nil);
}
